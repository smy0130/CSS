<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>총 주문가격</title>
</head>
<body>
    <form> 
        <fieldset>
            <legend> 기본 가격</legend>
            <p>30,000원</p>
        </fieldset>
        <fieldset>
            <legend> 추가 주문 </legend>
            <!-- 체크박스 value에 각각의 가격 값을 입력한다. -->
            <!-- 모든 체크박스 클래스 이름 같게 .checkbx -->
            <label><input type="checkbox" name="pickle" value="1200" class="checkbx">기장추가 (1200원)</label>
            <label><input type="checkbox" name="pickle" value="3000" class="checkbx">배송비용 (3000원)</label>
            <label><input type="checkbox" name="pickle" value="800" class="checkbx">산간지역 추가 비용 (800원)</label>
            <label><input type="checkbox" name="pickle" value="4800" class="checkbx">양말 (2개,4800원)</label>
            <label><input type="checkbox" name="pickle" value="2400" class="checkbx">선물 포장 (2400원)</label>
        </fieldset>
        <fieldset>
            <legend> 합계</legend>
            <input type="text" id="total" name="total" value="30000" readonly>
            
        </fieldset>
    </form>

    <script>
       let price = 30000;
        // 모든 체크박스를 가져와서 변수에 저장
        const checkboxes = document.querySelectorAll(".checkbx");
        // 합계 가격 부분 변수로 가져오기
        const total = document.getElementById("total");
        total.value = price + "원";

      for (let i = 0; i < checkboxes.length; i++) {
            checkboxes[i].onclick = function() {
                if (this.checked == true) {
                    // 합계 가격에 합산하기 +=
                    price += parseInt(this.value);
               } else {
                    // 체크 해제시 차감하기 -=
                   price -= parseInt(this.value);
                }
               total.value = price + "원";
            };
        }
       
    </script>
</body>
</html>